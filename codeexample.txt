‚úÖ 1) Feature File

üìå Include/features/Smoke/UserAccess/Login.feature

Feature: User Login


  As a valid user
  I want to login into the application
  So that I can access the system successfully


  @smoke @login
  Scenario: Successful login with valid credentials


    Given the user opens the browser
    And the user navigates to the login page
    When the user enters valid username and password
    And the user clicks on Sign In
    Then the user should be logged in successfully
‚úÖ 2) Step Definitions

üìå Scripts/stepDefinitions/UserAccess/LoginSteps.groovy

package stepDefinitions.UserAccess


import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject


import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI


import cucumber.api.java.en.Given
import cucumber.api.java.en.When
import cucumber.api.java.en.Then


import Pages.UserAccess.LoginPage




class LoginSteps {


    LoginPage loginPage = new LoginPage()




    @Given("the user opens the browser")
    def openBrowser() {
        WebUI.openBrowser("")
        WebUI.maximizeWindow()
    }


    @Given("the user navigates to the login page")
    def navigateToLoginPage() {
        loginPage.goToLoginPage()
    }


    @When("the user enters valid username and password")
    def enterCredentials() {
        loginPage.enterUsername()
        loginPage.enterPassword()
    }


    @When("the user clicks on Sign In")
    def clickSignIn() {
        loginPage.clickSignIn()
    }


    @Then("the user should be logged in successfully")
    def verifyLoginSuccess() {
        loginPage.verifyLoginSuccess()
        WebUI.closeBrowser()
    }
}
‚úÖ 3) Base Page (POM Core)

üìå Keywords/Pages/Common/BasePage.groovy

package Pages.Common


import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI
import com.kms.katalon.core.model.FailureHandling




class BasePage {


    /**
     * Wait for element visibility
     */
    def waitForElement(def testObject, int timeout = 10) {
        WebUI.waitForElementVisible(testObject, timeout, FailureHandling.STOP_ON_FAILURE)
    }


    /**
     * Click element safely
     */
    def click(def testObject) {
        waitForElement(testObject)
        WebUI.click(testObject)
    }


    /**
     * Set text safely
     */
    def type(def testObject, String text) {
        waitForElement(testObject)
        WebUI.setText(testObject, text)
    }


    /**
     * Verify element exists
     */
    def verifyElementPresent(def testObject) {
        WebUI.verifyElementPresent(testObject, 10, FailureHandling.STOP_ON_FAILURE)
    }
}
‚úÖ 4) Login Page Object

üìå Keywords/Pages/UserAccess/LoginPage.groovy

package Pages.UserAccess


import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject


import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI


import internal.GlobalVariable


import Pages.Common.BasePage




class LoginPage extends BasePage {


    // Object Repository locators
    def usernameField = findTestObject("Pages/UserAccess/Login/input_username")
    def passwordField = findTestObject("Pages/UserAccess/Login/input_password")
    def signInButton  = findTestObject("Pages/UserAccess/Login/btn_signIn")


    // Example post-login element (adjust later)
    def dashboardElement = findTestObject("Pages/UserAccess/Login/dashboard_home")




    /**
     * Navigate to Login URL
     */
    def goToLoginPage() {
        String url = GlobalVariable.baseUrl + "/login"
        WebUI.navigateToUrl(url)
    }


    /**
     * Fill username from profile
     */
    def enterUsername() {
        type(usernameField, GlobalVariable.username)
    }


    /**
     * Fill password from profile
     */
    def enterPassword() {
        type(passwordField, GlobalVariable.password)
    }


    /**
     * Click Sign In button
     */
    def clickSignIn() {
        click(signInButton)
    }


    /**
     * Verify login success
     */
    def verifyLoginSuccess() {
        verifyElementPresent(dashboardElement)
    }
}
‚ö†Ô∏è IMPORTANTE (para n√£o dar erro)

No LoginPage.groovy eu inclu√≠ isto:

def dashboardElement = findTestObject("Pages/UserAccess/Login/dashboard_home")

üëâ Tens de criar esse object no Object Repository ou ent√£o muda para outro elemento real da tua app depois do login.

Se ainda n√£o tens nada, mete algo tempor√°rio:

Alternativa simples:
def verifyLoginSuccess() {
    WebUI.verifyTextNotPresent("Login", false)
}
‚úÖ Object Repository necess√°rio

Confirma que tens:

Object Repository/Pages/UserAccess/Login/
   input_username
   input_password
   btn_signIn
   dashboard_home   <-- falta este (criar ou mudar)
